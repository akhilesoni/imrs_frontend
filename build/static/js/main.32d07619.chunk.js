(this.webpackJsonpimrs_frontend=this.webpackJsonpimrs_frontend||[]).push([[0],{106:function(e,t,s){},154:function(e,t,s){},155:function(e,t,s){},188:function(e,t,s){},189:function(e,t,s){},234:function(e,t,s){},235:function(e,t,s){},241:function(e,t,s){},242:function(e,t,s){},243:function(e,t,s){},376:function(e,t,s){},377:function(e,t,s){},475:function(e,t,s){},476:function(e,t,s){},477:function(e,t,s){},478:function(e,t,s){},481:function(e,t,s){"use strict";s.r(t);var n=s(7),c=s(0),a=s.n(c),i=s(27),r=s.n(i),l=(s(234),s.p,s(235),s(24)),o=s(15),d=s(8),j=(s(154),"https://obscure-wave-10054.herokuapp.com/"),u="token",m="admin",b="user",p="paid",h="unpaid",O="partial",x="upi",v="rtgs",f="cheque",g=s(1);function y(e){return Object(g.jsx)("p",{className:e.notice.visibility?"notice-visible":"notice-invisible",children:e.notice.message})}var N=s(20),S="ADD_USER",C="SET_USER",w="SET_INVOICE",I="SET_LOADING",k=function(e){return{type:I,payload:e}};function D(){var e=Object(N.b)(),t=Object(o.f)(),s=Object(c.useState)({message:"",visibility:!1}),a=Object(d.a)(s,2),i=a[0],r=a[1],l=Object(c.useState)({email:"",password:""}),m=Object(d.a)(l,2),p=m[0],h=m[1],O=function(){setTimeout((function(){r({message:"",visibility:!1})}),2e3)},x=function(s){s.preventDefault(),e(k(!0)),""!==p.email&&""!==p.password?fetch(j+"login",{method:"POST",body:JSON.stringify({user:p}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(s){s.isFound||(r({message:"user not exists!",visibility:!0}),O()),s.isFound&&!s.isCorrect&&(r({message:"Password Incorrect!",visibility:!0}),O()),s.isCorrect&&s.isFound&&(localStorage.setItem(u,s.token),console.log(s.user),localStorage.setItem(b,JSON.stringify(s.user)),t("/home")),e(k(!1))})):e(k(!1))},v=function(e){e.preventDefault();var t=e.target.name,s=e.target.value;switch(t){case"email":h(Object(n.a)(Object(n.a)({},p),{},{email:s}));break;case"password":h(Object(n.a)(Object(n.a)({},p),{},{password:s}))}};return Object(g.jsxs)("div",{className:"login-container",children:[Object(g.jsxs)("form",{onSubmit:x,className:"login-form",children:[Object(g.jsx)("p",{className:"heading",children:"IMRS"}),Object(g.jsx)("label",{children:"E-mail"}),Object(g.jsx)("input",{type:"text",onChange:v,name:"email",required:!0,placeholder:"E-mail",value:p.email}),Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{type:"password",onChange:v,name:"password",placeholder:"******",required:!0,value:p.password}),Object(g.jsx)("button",{onSubmit:x,type:"submit",name:"submit",children:"Sign in"})]}),Object(g.jsx)(y,{notice:i}),Object(g.jsx)("p",{className:"forget-notice",children:"Forget Password? Contact Admin"})]})}function P(e){return Object(g.jsx)("div",{className:"login-page",children:Object(g.jsx)(D,{})})}s(106);var R=s.p+"static/media/account.503efc1e.svg",q=(s(241),s(37)),A=s.p+"static/media/logout.7a0908f6.svg",B=s.p+"static/media/user.078de6f6.svg",E=s.p+"static/media/help.65328bf7.svg";function H(e){var t=JSON.parse(localStorage.getItem(b)),s=Object(o.f)(),n=Object(q.c)(),a=Object(c.useState)(!1),i=Object(d.a)(a,2),r=i[0],l=i[1],j=function(){localStorage.setItem(u,null),localStorage.setItem(b,null),s("/")};return Object(g.jsxs)("div",{className:"nav",children:[Object(g.jsx)("div",{className:"nav-logo",children:"IMRS"}),Object(g.jsxs)("div",{onClick:function(){return l(!r)},className:"nav-account-tab",children:[Object(g.jsx)("p",{style:{color:"white",fontSize:"14px",margin:"0 10px 0 0"},children:t.name}),Object(g.jsx)("img",{src:R,alt:"profile",className:r?"profile-icon-active":"profile-icon"})]}),Object(g.jsxs)("div",{className:r?"menu":"menu-close",children:[Object(g.jsxs)("div",{className:"menu-item",children:[Object(g.jsx)("p",{className:"menu-text",children:"My Account "}),Object(g.jsx)("img",{className:"menu-icon",src:B,alt:""})]}),Object(g.jsxs)("div",{onClick:function(){n.show("Do you want to do this?",{title:"Logout",closeCopy:"Cancel",actions:[{copy:"Logout",onClick:function(){j()}}]})},className:"menu-item",children:[Object(g.jsx)("p",{className:"menu-text",children:"Logout"}),Object(g.jsx)("img",{className:"menu-icon",src:A,alt:""})]}),Object(g.jsxs)("div",{className:"menu-item",children:[Object(g.jsx)("p",{className:"menu-text",children:"Help and Support"}),Object(g.jsx)("img",{className:"menu-icon",src:E,alt:""})]})]})]})}s(242);function L(e){var t=Object(c.useState)({drawerOpen:!1,cover:!1}),s=Object(d.a)(t,2),n=s[0],a=s[1],i=function(){a({drawerOpen:!n.drawerOpen,cover:!n.cover})};return Object(g.jsxs)("div",{className:"side-nav-wrapper",children:[Object(g.jsx)("div",{onClick:i,className:n.cover?"side-cover":"none"}),Object(g.jsxs)("div",{onClick:i,className:"hambar",children:[Object(g.jsx)("div",{className:"bar"}),Object(g.jsx)("div",{className:"bar"}),Object(g.jsx)("div",{className:"bar"})]}),Object(g.jsxs)("div",{onClick:i,className:n.drawerOpen?"side-nav":"side-nav-close",children:[Object(g.jsx)("p",{className:"logo",children:"IMRS"}),Object(g.jsx)("div",{className:"side-menu",children:e.links.map((function(e){return Object(g.jsx)(l.b,{to:e.link,className:"side-menu-item",children:Object(g.jsxs)("div",{className:"link-wrapper",children:[Object(g.jsx)("p",{className:"side-menu-link",children:e.title}),Object(g.jsx)("img",{className:"menu-icon",src:e.icon,alt:"icon"})]})})}))})]})]})}var J=s.p+"static/media/home.820697b5.svg",T=(s.p,s.p+"static/media/add.7416dd99.svg"),V=s.p+"static/media/users.0bea2943.svg",M=s.p+"static/media/invoice.c7f1e6f0.svg",_=s.p+"static/media/issueMessage.ab0502ae.svg",U=s.p+"static/media/requestmoney.7ce5cef8.svg",F=s.p+"static/media/customer.7716ecf0.svg",W=s(508),G=s(517),z=s(216),Y=s(220),K=(s(155),s(243),s.p+"static/media/rupees.07b005b1.svg"),X=(s.p,s.p+"static/media/maximize.7395e80b.svg");function Q(e){var t=e.invoice;return console.log(t),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"invoice",children:[Object(g.jsx)("p",{className:"invoice-heading",children:t.invoiceid}),Object(g.jsxs)("p",{className:"invoice-below-heading",children:["Id ",t.id]}),Object(g.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(g.jsx)("p",{children:t.date}),Object(g.jsx)("div",{className:"date-line"}),Object(g.jsx)("p",{children:t.duedate})]}),Object(g.jsxs)("div",{className:"invoice-text-wrapper",children:[Object(g.jsx)("img",{src:K,alt:"",className:"invoice-icon"}),Object(g.jsxs)("p",{className:"invoice-text",children:["Rs. ",parseInt(t.amount)-parseInt(t.paidamount),".00 "]})]}),Object(g.jsxs)("div",{className:"invoice-text-wrapper",children:[Object(g.jsx)("img",{src:B,alt:"",className:"invoice-icon"}),Object(g.jsx)("p",{className:"invoice-text",children:t.clientname})]}),Object(g.jsx)("div",{className:"invoice-text-wrapper",children:Object(g.jsx)("div",{className:"invoice-status",style:{backgroundColor:t.paymentstatus===h?t.approved?"red":"blue":(t.paymentstatus,"green")},children:Object(g.jsx)("p",{children:t.paymentstatus===h?t.approved?"pending":"draft":t.paymentstatus===p?"paid":"partial"})})}),Object(g.jsx)(l.b,{to:"".concat(t.id),children:Object(g.jsxs)("div",{className:"invoice-blue-button",children:[Object(g.jsx)("img",{src:X,alt:"",className:"invoice-icon"}),Object(g.jsx)("p",{children:"Open"})]})})]})})}function Z(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),r=i[0],l=i[1],m=Object(o.f)(),p=JSON.parse(localStorage.getItem(b)),h=Object(c.useState)(5),O=Object(d.a)(h,2),x=O[0],v=O[1],f=Object(c.useState)(0),y=Object(d.a)(f,2),N=y[0],S=y[1],C=Object(c.useState)(0),w=Object(d.a)(C,2),I=w[0],k=w[1],D=Object(c.useState)(0),P=Object(d.a)(D,2),R=P[0],q=P[1];return Object(c.useEffect)((function(){fetch(j+"overview_admin",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.isValid){l(e.chartData.filter((function(e){return e.accepted})).map((function(e){return{name:"",uv:e.amount,amt:e.amount}})));for(var t=0,s=0,c=0,a=0;a<e.chartData.length;a++){var i=e.chartData[a];t=parseInt(t)+parseInt(i.amount),i.accepted?c=parseInt(c)+parseInt(i.amount):s=parseInt(s)+parseInt(i.amount)}n(e.invoice),q(s),k(c),S(t)}else m("/")}))}),[]),Object(g.jsxs)("div",{className:"dashboard-panel",children:[Object(g.jsxs)("div",{className:"greet-panel",children:[Object(g.jsxs)("div",{className:"greet-text",children:[Object(g.jsx)("p",{className:"greet-b",children:"Hello,"}),Object(g.jsxs)("p",{className:"greet-m",children:[p.name,"."]})]}),Object(g.jsx)("div",{className:"c1"}),Object(g.jsx)("div",{className:"c2"}),Object(g.jsx)("div",{className:"c3"})]}),Object(g.jsx)("div",{className:"top-wrapper",children:Object(g.jsxs)("div",{className:"top-left",children:[Object(g.jsx)("p",{style:{textAlign:"left"},className:"t-m",children:"Payments"}),Object(g.jsx)("div",{className:"border-bottom"}),Object(g.jsxs)("div",{className:"value-wrapper",children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{className:"t-b",children:[" \u20b9",N]}),Object(g.jsx)("p",{className:"t-s",children:"Total Amount"})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{className:"t-b",children:["\u20b9",I]}),Object(g.jsx)("p",{className:"t-s",children:"Total Received"})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{className:"t-b",children:["\u20b9",R]}),Object(g.jsx)("p",{className:"t-s",children:"Total Pending"})]})]})]})}),Object(g.jsx)("div",{className:"chart-wrapper",children:Object(g.jsx)(W.a,{width:"100%",height:"100%",children:Object(g.jsxs)(G.a,{width:500,height:400,data:"a"===x?r:r.slice(0,x),children:[Object(g.jsx)(z.a,{fontFamily:"monospace",strokeWidth:0,stroke:"#3152be",tickMargin:15}),Object(g.jsx)(Y.a,{strokeWidth:2,type:"monotone",dataKey:"uv",stroke:"#3152be",fill:"#359add49"})]})})}),"a"===x?Object(g.jsx)("p",{className:"legend",children:"All transactions"}):Object(g.jsxs)("p",{className:"legend",children:["last ",x," transactions"]}),Object(g.jsxs)("div",{className:"filter-wrapper",children:[Object(g.jsx)("p",{onClick:function(){return v(5)},className:5===x?"f-i-a":"f-i",children:"5"}),Object(g.jsx)("p",{onClick:function(){return v(10)},className:10===x?"f-i-a":"f-i",children:"10"}),Object(g.jsx)("p",{onClick:function(){return v(20)},className:20===x?"f-i-a":"f-i",children:"20"}),Object(g.jsx)("p",{onClick:function(){return v("a")},className:"a"===x?"f-i-a":"f-i",children:"ALL"})]}),Object(g.jsxs)("div",{className:"recent-wrapper",children:[Object(g.jsx)("div",{className:"recent-invoice",children:null===s?"":Object(g.jsx)("div",{className:"recent"})}),Object(g.jsx)("div",{className:"recent-issue"}),Object(g.jsx)("div",{className:"recent-reconciliation"})]})]})}s(376);function $(e){return Object(g.jsxs)(l.b,{to:e.link,className:"panel-button-blue",children:[Object(g.jsx)("img",{src:T,className:"button-icon",alt:""}),Object(g.jsx)("p",{className:"text-small",children:e.title})]})}function ee(){var e=JSON.parse(localStorage.getItem(b)),t=Object(N.b)(),s=Object(N.c)((function(e){return e.invoices})),n=Object(o.f)();return Object(c.useEffect)((function(){t(k(!0)),fetch(j+"invoices",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(s){if(s.isValid){console.log(s.invoices);var c=null;c=e.usertype===m?s.invoices:s.invoices.filter((function(t){return t.clientid===e.id})),t(function(e){return{type:w,payload:e}}(c))}else n("/");t(k(!1))}))}),[]),Object(g.jsxs)("div",{className:"invoice-panel",children:[Object(g.jsxs)("div",{className:"panel-header",children:[Object(g.jsx)("p",{className:"panel-heading",children:"Invoices"}),e.usertype===m?Object(g.jsx)($,{link:"add_invoice",title:"Create Invoice"}):null]}),Object(g.jsx)("div",{className:"invoice-list",children:s.invoices.map((function(e){return Object(g.jsx)(Q,{invoice:e})}))})]})}s(188),s(377);var te=function(e){return{type:C,payload:e}};s(189);function se(){localStorage.getItem(b);var e=Object(N.c)((function(e){return e.users})),t=Object(o.f)(),s=Object(N.b)(),a=Object(q.c)(),i=Object(c.useState)(),r=Object(d.a)(i,2),l=r[0],m=r[1],y=Object(c.useState)(!1),S=Object(d.a)(y,2),C=S[0],w=S[1],I=Object(c.useState)({invoiceId:"",clientId:"",amount:0,paidAmount:0,date:"",dueDate:"",approved:!1,paymentStatus:h,imageUrl:"",clientName:"",paymentId:"",paymentMethod:x}),D=Object(d.a)(I,2),P=D[0],R=D[1];Object(c.useEffect)((function(){s(k(!0)),fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid||t("/"),s(te(e.users)),s(k(!1))}))}),[]);var A=function(e){return e.preventDefault(),s(k(!0)),""===P.invoiceId||0===P.amount||""===P.clientName||""===P.clientId||""==P.date||""===P.dueDate||""===P.paymentStatus?(a.show("Please Fill Importent Details!"),void s(k(!1))):P.paymentStatus!==p&&P.paymentStatus!==O||0!==P.paidAmount||""!==P.paymentId?l?void fetch(j+"addInvoice",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),invoice:P,image:l}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Invoice Uploaded Successfully"),R({invoiceId:"",clientId:"",amount:0,paidAmount:0,date:"",dueDate:"",approved:!1,paymentStatus:h,imageUrl:"",clientName:"",paymentId:"",paymentMethod:x}),m()):(a.show("Something Went Wrong!"),setTimeout((function(){t("/")}),100)),s(k(!1))})):(a.show("Image Not Selected"),void s(k(!1))):(a.show("Fill Complete Payment Details"),void s(k(!1)))},B=function(){w(!C)};return Object(g.jsxs)("div",{className:"add-invoice-panel",children:[Object(g.jsx)("div",{className:"panel-header",children:Object(g.jsx)("p",{className:"panel-heading",children:"Add Invoice"})}),Object(g.jsx)("div",{className:"invoice-form",children:Object(g.jsxs)("form",{onSubmit:A,className:"wide-form",children:[Object(g.jsxs)("div",{className:"form-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Invoice Reference Number"}),Object(g.jsx)("input",{type:"text",required:!0,placeholder:"Enter Invoice Reference Number",name:"invoiceId",value:P.invoiceId,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{invoiceId:e.target.value}))}}),Object(g.jsx)("p",{className:"form-heading-big",children:"Payment Details"}),Object(g.jsxs)("div",{className:"col-wrapper",children:[Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Amount"}),Object(g.jsx)("input",{type:"number",required:!0,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{amount:e.target.value}))},placeholder:"Amount"}),Object(g.jsx)("p",{className:"form-heading-medium",children:"Paid Amount"}),Object(g.jsx)("input",{type:"number",required:!0,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{paidAmount:e.target.value}))},placeholder:"Paid Amount"})]}),Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Payment Status"}),Object(g.jsxs)("select",{name:"paymentStatus",required:!0,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{paymentStatus:e.target.value}))},children:[Object(g.jsx)("option",{value:h,children:"Unpaid"}),Object(g.jsx)("option",{value:p,children:"Paid"}),Object(g.jsx)("option",{value:O,children:"Partially Paid"})]}),Object(g.jsx)("p",{className:"form-heading-medium",children:"Payment Method ( If Paid )"}),Object(g.jsxs)("select",{name:"paymentMethod",required:!0,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{paymentMethod:e.target.value}))},children:[Object(g.jsx)("option",{value:x,children:"UPI"}),Object(g.jsx)("option",{value:v,children:"RTGS"}),Object(g.jsx)("option",{value:f,children:"Bank Cheque"})]})]})]}),Object(g.jsx)("p",{className:"form-heading-medium",children:"Payment Reference Number"}),Object(g.jsx)("input",{type:"text",required:!0,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{paymentId:e.target.value}))},placeholder:"Reference number"})]}),Object(g.jsxs)("div",{className:"form-half",children:[Object(g.jsxs)("div",{className:"col-wrapper",children:[Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Date"}),Object(g.jsx)("input",{type:"date",required:!0,value:P.date,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{date:e.target.value}))},placeholder:"Date"})]}),Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Due Date"}),Object(g.jsx)("input",{type:"date",required:!0,value:P.dueDate,onChange:function(e){return R(Object(n.a)(Object(n.a)({},P),{},{dueDate:e.target.value}))},placeholder:"Due Date"})]})]}),Object(g.jsx)("p",{className:"form-heading-big",children:"Client Details"}),Object(g.jsxs)("div",{className:"col-wrapper",children:[Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Choose Customer"}),Object(g.jsx)("p",{onClick:B,className:"activity-open",children:"Select Customer"})]}),Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Customer"}),Object(g.jsxs)("p",{className:"activity-open",children:[P.clientId," - ",P.clientName]})]})]}),Object(g.jsx)("p",{className:"form-heading-big",children:"Invoice Snapshot"}),Object(g.jsx)("input",{type:"file",value:P.imageUrl,name:"imageUrl",onChange:function(e){var t=e.target.files[0],s=new FileReader;s.readAsDataURL(t),s.onloadend=function(){m(s.result)}}}),l&&Object(g.jsx)("img",{src:l,style:{width:"100%",borderRadius:"10px",marginTop:"10px",boxShadow:"0 0 5px rgba(0,0,0,0.2)"}}),Object(g.jsx)("button",{onClick:A,children:"Submit"})]})]})}),Object(g.jsx)("div",{onClick:B,className:C?"cover":""}),Object(g.jsxs)("div",{className:C?"activity-panel":"invisible",children:[Object(g.jsx)("p",{children:"Select Customer"}),Object(g.jsx)("div",{className:"activity-table",children:Object(g.jsx)("div",{className:"table-wrapper",children:Object(g.jsxs)("table",{className:"users-table",children:[Object(g.jsxs)("tr",{className:"table-head",children:[Object(g.jsx)("th",{children:"Id"}),Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Email"}),Object(g.jsx)("th",{children:"Company"})]}),e.users.map((function(e){if("client"===e.usertype)return Object(g.jsxs)("tr",{onClick:function(){return function(e){R(Object(n.a)(Object(n.a)({},P),{},{clientName:e.name,clientId:e.id})),B()}(e)},children:[Object(g.jsx)("td",{children:e.id}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{children:e.company})]})}))]})})})]})]})}function ne(){var e=Object(c.useState)({name:"",email:"",phone:"",usertype:"admin",password:"",address:"",company:""}),t=Object(d.a)(e,2),s=t[0],a=t[1],i=Object(N.b)(),r=Object(o.f)(),l=Object(q.c)(),m=function(e){fetch(j+"addUser",{method:"post",body:JSON.stringify({user:s,token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.isValid?(i(function(e){return{type:S,payload:e}}(e)),l.show("User added successfully!",{title:"Success"})):r("/")}))},b=function(e){if(e.preventDefault(),""!==s.name&&""!==s.email&&""!==s.phone&&""!==s.usertype&&""!==s.password&&""!==s.address&&""!==s.company){var t="do you want to add "+s.name+" as "+s.usertype+"?";l.show(t,{title:"Add Customer",closeCopy:"No",actions:[{copy:"Yes",onClick:function(){m(s),a({name:"",email:"",phone:"",usertype:"Admin",password:"",address:"",company:""})}}]})}};return Object(g.jsxs)("div",{className:"add-user-panel",children:[Object(g.jsx)("div",{className:"panel-header",children:Object(g.jsx)("p",{className:"panel-heading",children:"Add User"})}),Object(g.jsx)("div",{className:"user-info-form",children:Object(g.jsxs)("form",{className:"wide-form",onSubmit:b,children:[Object(g.jsxs)("div",{className:"form-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Basic Information"}),Object(g.jsx)("input",{type:"text",name:"name",maxLength:30,value:s.name,required:!0,placeholder:"Enter Full Name",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{name:e.target.value}))}}),Object(g.jsx)("p",{className:"form-heading-medium",children:"Contact and Company"}),Object(g.jsxs)("div",{className:"col-wrapper",children:[Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("input",{type:"text",name:"email",maxLength:30,value:s.email,required:!0,placeholder:"Email",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{email:e.target.value}))}}),Object(g.jsx)("input",{type:"text",name:"phone",maxLength:12,required:!0,value:s.phone,placeholder:"Phone",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{phone:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"col-half",children:[Object(g.jsx)("input",{type:"text",name:"company",required:!0,maxLength:50,value:s.company,placeholder:"Company",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{company:e.target.value}))}}),Object(g.jsxs)("select",{name:"usertype",required:!0,onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{usertype:e.target.value}))},children:[Object(g.jsx)("option",{value:"admin",children:"Admin"}),Object(g.jsx)("option",{value:"client",children:"Customer"})]})]})]}),Object(g.jsx)("p",{className:"form-heading-medium",children:"Password"}),Object(g.jsx)("input",{type:"password",name:"password",maxLength:9,required:!0,value:s.password,placeholder:"Password",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{password:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"form-half",children:[Object(g.jsx)("p",{className:"form-heading-medium",children:"Address"}),Object(g.jsx)("input",{type:"text",required:!0,name:"address",maxLength:100,value:s.address,placeholder:"Enter Valid Address",onChange:function(e){return a(Object(n.a)(Object(n.a)({},s),{},{address:e.target.value}))}}),Object(g.jsx)("button",{onClick:b,children:"Submit"})]})]})})]})}var ce=s(117),ae=s.n(ce),ie=s(122),re={topType:["NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02"],accessoriesType:["Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers"],hatColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],hairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray"],facialHairType:["Blank","BeardMedium","BeardLight","BeardMajestic","MoustacheFancy","MoustacheMagnum"],facialHairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red"],clotheType:["BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck"],clotheColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],graphicType:["Bat","Cumbia","Deer","Diamond","Hola","Pizza","Resist","Selena","Bear","SkullOutline","Skull"],eyeType:["Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky"],eyebrowType:["Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural"],mouthType:["Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit"],skinColor:["Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black"]},le=Object.keys(re);function oe(){var e={};return Object(ie.a)(le).forEach((function(t){var s=re[t];e[t]=s[Math.floor(Math.random()*s.length)]})),e}s(475);function de(e){var t=e.user,s=Object(o.f)();return Object(g.jsxs)("div",{className:"H"===e.type?"user-card-h":"user-card",children:[Object(g.jsx)(ae.a,Object(n.a)({className:"H"===e.type?"user-profile-h":"user-profile",avatarStyle:"Circle"},oe())),Object(g.jsxs)("div",{style:{margin:"0 10px"},children:[Object(g.jsx)("p",{style:{margin:"10px 0 5px 0"},children:t.name}),Object(g.jsx)("p",{style:{color:"var(--dark_grey)",fontSize:"14px"},children:t.email})]}),Object(g.jsx)("p",{onClick:function(){s("/home/users/"+t.id)},className:"user-blue-button",children:"View Profile"})]})}function je(e){var t=Object(o.f)(),s=Object(N.c)((function(e){return e.users})),n=Object(N.b)(),a=s.users.filter((function(t){return t.usertype===e.usertype}));return Object(c.useEffect)((function(){fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid||t("/"),console.log(e.users),n(te(e.users))}))}),[]),Object(g.jsxs)("div",{className:"users-panel",children:[Object(g.jsxs)("div",{className:"panel-header",children:[Object(g.jsx)("p",{className:"panel-heading",children:e.title}),Object(g.jsx)($,{link:"add_user",title:"Add Customer"})]}),Object(g.jsx)("div",{className:"user-wrapper",style:{display:"flex",flexWrap:"wrap"},children:a.map((function(e){return Object(g.jsx)(de,{user:e})}))})]})}s(476);var ue=s.p+"static/media/delete.b3b4a0a6.svg";function me(){var e=Object(o.g)().id,t=Object(N.b)(),s=Object(o.f)(),a=Object(q.c)(),i=JSON.parse(localStorage.getItem(b)),r=Object(c.useState)({message:"",invoiceid:e,clientid:i.id}),l=Object(d.a)(r,2),h=l[0],O=l[1],y=Object(c.useState)({paymentid:"",paymentmethod:x,clientid:i.id,invoiceid:e,amount:null}),S=Object(d.a)(y,2),C=S[0],w=S[1],I=Object(c.useState)({id:e,invoiceid:"",date:"",duedate:"",amount:"",paidamount:"",paid:!1,approved:!1,clientid:""}),D=Object(d.a)(I,2),P=D[0],R=D[1],A=Object(c.useState)(!1),B=Object(d.a)(A,2),E=B[0],H=B[1],L=Object(c.useState)(!1),J=Object(d.a)(L,2),T=J[0],V=J[1],M=Object(c.useState)({id:"",name:"",email:"",phone:"",address:"",company:""}),_=Object(d.a)(M,2),U=_[0],F=_[1],W=function(){fetch(j+"invoice/"+e,{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(R(e.invoice),F(e.user)):s("/home"),t(k(!1))}))};Object(c.useEffect)((function(){t(k(!0)),W()}),[]);var G=function(){H(!E)},z=function(){V(!T)};return Object(g.jsxs)("div",{className:"invoice-page-panel",children:[Object(g.jsxs)("div",{className:"invoice-header",children:[Object(g.jsx)("div",{className:"invoice-logo",children:"IMRS"}),Object(g.jsxs)("div",{className:"invoice-heading-wrapper",children:[Object(g.jsx)("p",{className:"big-text",children:"INVOICE"}),Object(g.jsx)("p",{className:"small-g-text",children:P.invoiceid})]})]}),Object(g.jsx)("div",{className:"line"}),Object(g.jsxs)("div",{className:"invoice-section",children:[Object(g.jsx)("p",{className:"medium-text",children:"Client Details"}),Object(g.jsx)(de,{type:"H",user:U})]}),Object(g.jsx)("div",{className:"line"}),Object(g.jsxs)("div",{className:"invoice-section",children:[Object(g.jsx)("p",{className:"medium-text",children:"Payment Details"}),Object(g.jsx)("div",{className:"table-wrapper",children:Object(g.jsxs)("table",{className:"users-table",children:[Object(g.jsxs)("tr",{className:"table-head",children:[Object(g.jsx)("th",{children:"Amount"}),Object(g.jsx)("th",{children:"Paid"}),Object(g.jsx)("th",{children:"Payment Method"}),Object(g.jsx)("th",{children:"Payment Status"}),Object(g.jsx)("th",{children:"Payment Reference"})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:P.amount}),Object(g.jsx)("td",{children:P.paidamount}),Object(g.jsx)("td",{children:0===P.paidamount?"NA":P.paymentmethod}),Object(g.jsx)("td",{children:P.paymentstatus}),Object(g.jsx)("td",{children:""===P.paymentid?"NA":P.paymentid})]})]})})]}),Object(g.jsx)("div",{className:"line"}),Object(g.jsxs)("div",{className:"invoice-section",children:[Object(g.jsx)("p",{className:"medium-text",children:"Other Details"}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",margin:"20px 0"},children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{style:{color:"grey"},children:"Approved By Client "})," ",P.approved?"YES":"NO"]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{style:{color:"grey"},children:"Created "})," ",P.date]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{style:{color:"grey"},children:"Due Date "})," ",P.duedate]})]})]}),Object(g.jsx)("div",{className:"line"}),Object(g.jsxs)("div",{className:"invoice-section",children:[Object(g.jsx)("p",{className:"medium-text",children:"Invoice Snapshot"}),Object(g.jsx)("img",{style:{width:"100%",borderRadius:"10px",margin:"20px 0"},src:P.imageurl,alt:""})]}),Object(g.jsx)("div",{className:"line"}),Object(g.jsxs)("div",{className:"invoice-section",children:[Object(g.jsx)("p",{className:"medium-text",children:"Invoice Actions"}),i.usertype===m?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(g.jsx)("p",{className:"invoice-text",children:"Add Payment"}),Object(g.jsx)("div",{className:"action-button-g",children:Object(g.jsx)("p",{children:"Pay"})})]}),Object(g.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(g.jsx)("p",{className:"invoice-text",children:"Delete This Invoice "}),Object(g.jsxs)("div",{onClick:function(){fetch(j+"invoice/"+P.id,{method:"delete",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Deleted Successfully!",{title:"Deleted"}),s("/home")):s("/")}))},className:"action-button-r",children:[Object(g.jsx)("img",{src:ue,alt:"",className:"action-button-icon"}),Object(g.jsx)("p",{className:"action-button-text",children:"Delete"})]})]})]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(g.jsx)("p",{className:"invoice-text",children:"Approve Invoice"}),Object(g.jsx)("p",{onClick:function(){t(k(!0)),fetch(j+"approve",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),id:e}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Invoice Approved Successfully!"),W()):s("/"),t(k(!1))}))},className:P.approved?"":"invoice-button-green",children:P.approved?"APPROVED":"Approve"})]}),Object(g.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(g.jsx)("p",{className:"invoice-text",children:"Request Reconciliation"}),Object(g.jsx)("p",{onClick:z,className:P.paymentstatus===p?"":"invoice-button-green",children:P.paymentstatus===p?"PAID":"Request"})]}),Object(g.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(g.jsx)("p",{className:"invoice-text",children:"Raise Issue"}),Object(g.jsx)("p",{onClick:G,className:"invoice-button-red",children:"Issue"})]})]})]}),Object(g.jsx)("div",{onClick:function(){return H(!E)},className:E?"cover":""}),Object(g.jsxs)("div",{className:E?"issue-prompt":"invisible",children:[Object(g.jsx)("p",{children:"Enter Issue"}),Object(g.jsx)("textarea",{onChange:function(e){return O(Object(n.a)(Object(n.a)({},h),{},{message:e.target.value}))},name:"message",id:"",cols:"30",rows:"5",value:h.message}),Object(g.jsx)("button",{onClick:function(){t(k(!0)),fetch(j+"raiseissue",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),issue:h}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Issue Raised!"),G()):s("/"),t(k(!1))}))},children:"Raise "})]}),Object(g.jsx)("div",{onClick:z,className:T?"cover":""}),Object(g.jsxs)("div",{className:T?"reconciliation-prompt":"invisible",children:[Object(g.jsx)("p",{style:{marginBottom:"20px"},children:"Enter Payment Details"}),Object(g.jsxs)("div",{className:"wide-form",children:[Object(g.jsxs)("div",{className:"col-wrapper",children:[Object(g.jsx)("div",{className:"col-half",children:Object(g.jsx)("input",{type:"number",name:"amount",value:C.amount,placeholder:"Amount",onChange:function(e){return w(Object(n.a)(Object(n.a)({},C),{},{amount:e.target.value}))}})}),Object(g.jsx)("div",{className:"col-half",children:Object(g.jsxs)("select",{name:"paymentMethod",required:!0,onChange:function(e){return w(Object(n.a)(Object(n.a)({},C),{},{paymentmethod:e.target.value}))},children:[Object(g.jsx)("option",{value:x,children:"UPI"}),Object(g.jsx)("option",{value:v,children:"RTGS"}),Object(g.jsx)("option",{value:f,children:"Bank Cheque"})]})})]}),Object(g.jsx)("input",{type:"text",name:"paymentid",placeholder:"Payment Reference",value:C.paymentid,onChange:function(e){return w(Object(n.a)(Object(n.a)({},C),{},{paymentid:e.target.value}))}}),Object(g.jsx)("button",{onClick:function(){t(k(!0)),0!==C.amount&&""!==C.paymentid?fetch(j+"requestreconciliation",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),reconciliation:C}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Request Sent Successfully!"),z()):s("/"),t(k(!1))})):a.show("Please Fill Complete Details!")},children:"Make Request "})]})]})]})}s(477);var be=s.p+"static/media/check.b5e4eacc.svg",pe=s.p+"static/media/pending.c92eaa3e.svg";function he(e){var t=Object(N.b)(),s=e.issue,n=JSON.parse(localStorage.getItem(b)),c=Object(o.f)(),a=Object(q.c)(),i=function(){c("/home/invoices/"+s.invoiceid)},r=function(){t(k(!0)),fetch(j+"issue/"+s.id,{method:"delete",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(s){s.isValid?(a.show("Issue Deleted Successfully!"),e.refreshPage()):c("/"),t(k(!1))}))};return Object(g.jsxs)("div",{className:"issue",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("div",{style:{margin:"0",flexWrap:"wrap"},className:"wrapper",children:[s.resolved?Object(g.jsx)("img",{style:{height:"18px"},src:be}):Object(g.jsx)("img",{style:{height:"18px"},src:pe}),Object(g.jsx)("p",{className:"issue-b",children:s.message}),Object(g.jsx)("p",{className:"issue-m",children:s.date.substring(0,8)+" at "+s.date.substring(8,s.date.length)})]})}),Object(g.jsx)("div",{className:"action-wrapper",children:n.usertype===m?Object(g.jsxs)("div",{onClick:i,className:"action-button-g",children:[Object(g.jsx)("img",{className:"action-button-icon-b",src:X,alt:""}),Object(g.jsx)("p",{style:{color:"var(--blue)"},className:"action-button-text",children:"Invoice"})]}):Object(g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(g.jsxs)("div",{onClick:i,className:"action-button-b",style:{margin:"10px 10px 10px 0 "},children:[Object(g.jsx)("img",{className:"action-button-icon",src:X,alt:""}),Object(g.jsx)("p",{className:"action-button-text",children:"Invoice"})]}),s.resolved?"":Object(g.jsx)("div",{onClick:function(){a.show("Do you want to do this?",{title:"Resolve Issue",closeCopy:"Cancel",actions:[{copy:"Resolve",onClick:function(){t(k(!0)),fetch(j+"resolve_issue",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),id:s.id}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(s){s.isValid?(a.show("Issue Resolved!"),e.refreshPage()):c("/"),t(k(!1))}))}}]})},className:"action-button-g",children:Object(g.jsx)("img",{className:"action-button-icon",src:be,alt:""})}),Object(g.jsx)("div",{onClick:function(){a.show("Do you want to do this?",{title:"Delete Issue",closeCopy:"Cancel",actions:[{copy:"Delete",onClick:function(){r()}}]})},className:"action-button-r",children:Object(g.jsx)("img",{className:"action-button-icon",src:ue,alt:""})})]})})]})}var Oe=s.p+"static/media/notfound.6c7c0c82.svg";function xe(){var e=Object(N.b)(),t=Object(o.f)(),s=JSON.parse(localStorage.getItem(b)),n=Object(c.useState)([]),a=Object(d.a)(n,2),i=a[0],r=a[1],l=Object(c.useState)([]),p=Object(d.a)(l,2),h=p[0],O=p[1];Object(c.useEffect)((function(){x()}),[]);var x=function(){e(k(!0));var n=null;n=s.usertype===m?m:s.id,fetch(j+"issues",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),filter:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(s){s.isValid?(r(s.issues.filter((function(e){return!e.resolved}))),O(s.issues.filter((function(e){return e.resolved})))):t("/"),e(k(!1))}))};return Object(g.jsxs)("div",{className:"issue-panel",children:[Object(g.jsxs)("div",{className:"panel-header",style:{margin:"0 0 20px 0"},children:[Object(g.jsx)("img",{style:{margin:"0 10px 0 0"},src:_,alt:""}),Object(g.jsx)("p",{className:"panel-heading",children:"Issues"})]}),0===i.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(g.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(g.jsx)("p",{style:{color:"#666666"},children:" No Issue Found !"})]}):"",i.map((function(e){return Object(g.jsx)(he,{refreshPage:x,issue:e})})),Object(g.jsx)("div",{className:"panel-header",style:{margin:"20px 0 15px 0"},children:Object(g.jsx)("p",{className:"panel-heading",children:"Resolved Issues"})}),0===h.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(g.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(g.jsx)("p",{style:{color:"#666666"},children:" No Issue Resolved Yet!"})]}):"",h.map((function(e){return Object(g.jsx)(he,{refreshPage:x,issue:e})}))]})}s(478);function ve(e){var t=e.request,s=e.refresh,n=Object(N.b)(),c=JSON.parse(localStorage.getItem(b)),a=Object(o.f)(),i=Object(q.c)(),r=function(){n(k(!0)),fetch(j+"accept_request",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),request:t}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(i.show("Reconciliation Done Successfully!",{title:"Successful"}),s()):a("/")}))},l=function(){n(k(!0)),fetch(j+"request",{method:"delete",body:JSON.stringify({token:localStorage.getItem(u),id:t.id}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(s(),i.show("Request Deleted Successfully!")):a("/"),n(k(!1))}))};return Object(g.jsxs)("div",{className:"request",children:[Object(g.jsxs)("div",{style:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[Object(g.jsxs)("div",{style:{margin:"5px 0"},className:"wrapper",children:[t.accepted?Object(g.jsx)("img",{style:{height:"18px",margin:"0 5px 0 0"},src:be}):Object(g.jsx)("img",{style:{height:"18px",margin:"0 5px 0 0"},src:pe}),Object(g.jsxs)("p",{className:"req-b",children:["\u20b9 ",t.amount]}),Object(g.jsxs)("p",{className:"req-status",children:["By ",t.paymentmethod]})]}),Object(g.jsxs)("div",{className:"request-d-wrapper",style:{flexWrap:"wrap",alignItems:"center",margin:"0"},children:[Object(g.jsxs)("p",{className:"req-m",children:[" Ref. no. - ",t.paymentid," "]}),Object(g.jsxs)("p",{className:"req-m",style:{backgroundColor:"gray",color:"white",padding:"2px 5px",borderRadius:"5px",fontSize:"13px"},children:["  ",t.date.substring(0,8)," at ",t.date.substring(8)]})]})]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{onClick:function(){a("/home/invoices/"+t.invoiceid)},className:"action-button-g",style:{margin:"10px 10px 10px 0"},children:[Object(g.jsx)("img",{className:"action-button-icon-b",src:X,alt:""}),Object(g.jsx)("p",{style:{color:"var(--blue)"},className:"action-button-text",children:"Invoice"})]}),e.t?"":c.usertype===m?Object(g.jsxs)("div",{onClick:function(){i.show("Do you want to do this?",{title:"Accept Request",closeCopy:"Cancel",actions:[{copy:"Accept",onClick:function(){r()}}]})},className:"action-button-g",children:[Object(g.jsx)("img",{className:"action-button-icon",src:be,alt:""}),Object(g.jsx)("p",{className:"action-button-text",children:"Accept"})]}):Object(g.jsxs)("div",{onClick:function(){i.show("Do you want to do this?",{title:"Unsend Request",closeCopy:"Cancel",actions:[{copy:"Unsend",onClick:function(){l()}}]})},className:"action-button-r",children:[Object(g.jsx)("img",{className:"action-button-icon",src:ue,alt:""}),Object(g.jsx)("p",{className:"action-button-text",children:"Delete"})]})]})]})}var fe=s.p+"static/media/history.5d7b8ac8.svg";function ge(){var e=Object(N.b)(),t=JSON.parse(localStorage.getItem(b)),s=Object(o.f)(),n=Object(c.useState)([]),a=Object(d.a)(n,2),i=a[0],r=a[1],l=Object(c.useState)([]),p=Object(d.a)(l,2),h=p[0],O=p[1],x=function(){var n=null;n=t.usertype===m?m:t.id,fetch(j+"requests",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),filter:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.isValid?(r(t.requests.filter((function(e){return!e.accepted}))),O(t.requests.filter((function(e){return e.accepted})))):s("/"),e(k(!1))}))};return Object(c.useEffect)((function(){e(k(!0)),x()}),[]),Object(g.jsxs)("div",{className:"request-page-panel",children:[Object(g.jsxs)("div",{className:"panel-header",children:[Object(g.jsx)("img",{src:pe,alt:"",style:{margin:"0 10px 0 0 "}}),Object(g.jsx)("p",{className:"panel-heading",children:"Pending Requests"})]}),0===i.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(g.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(g.jsx)("p",{style:{color:"#666666"},children:" No Pending Requests Found !"})]}):"",i.map((function(e){return t.usertype===m||e.clientid===t.id?Object(g.jsx)(ve,{refresh:x,request:e}):null})),Object(g.jsxs)("div",{style:{margin:"20px 0 "},className:"panel-header",children:[Object(g.jsx)("img",{src:fe,alt:"",style:{margin:"0 10px 0 0 "}}),Object(g.jsx)("p",{className:"panel-heading",children:"History"})]}),0===h.length?Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(g.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(g.jsx)("p",{style:{color:"#666666"},children:" No History yet !"})]}):"",h.map((function(e){return t.usertype===m||e.clientid===t.id?Object(g.jsx)(ve,{t:!0,refresh:x,request:e}):null}))]})}function ye(){var e=Object(o.g)(),t=Object(o.f)(),s=Object(N.b)(),a=Object(c.useState)({name:"",email:"",phone:"",company:""}),i=Object(d.a)(a,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){s(k(!0)),fetch(j+"users/"+e.id,{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?l(e.user):t("/"),s(k(!1))}))}),[]),Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(ae.a,Object(n.a)({style:{width:"100px",height:"100px",margin:"20px 0"},avatarStyle:"Circle"},oe())),Object(g.jsx)("p",{children:r.name}),Object(g.jsx)("p",{children:r.email})]}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:"Invoices"})})]})}var Ne=[{title:"Overview",link:"",nested:!1,icon:J},{title:"Invoices",link:"invoices",nested:!1,icon:M},{title:"Customers",link:"customers",nested:!1,icon:F},{title:"System Users",link:"system_users",nested:!1,icon:V},{title:"Issues",link:"issues",nested:!1,icon:_},{title:"Requests",link:"requests",nested:!1,icon:U}],Se=[{path:"",component:Object(g.jsx)(Z,{})},{path:"invoices",component:Object(g.jsx)(ee,{})},{path:"customers",component:Object(g.jsx)(je,{usertype:"client",title:"Customers"})},{path:"system_users",component:Object(g.jsx)(je,{usertype:"admin",title:"System Users"})},{path:"invoices/add_invoice",component:Object(g.jsx)(se,{})},{path:"customers/add_user",component:Object(g.jsx)(ne,{})},{path:"system_users/add_user",component:Object(g.jsx)(ne,{})},{path:"invoices/:id",component:Object(g.jsx)(me,{})},{path:"issues",component:Object(g.jsx)(xe,{})},{path:"requests",component:Object(g.jsx)(ge,{})},{path:"users/:id",component:Object(g.jsx)(ye,{})}];function Ce(){JSON.parse(localStorage.getItem(b));return Object(g.jsxs)("div",{className:"admin-page",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"side-nav-panel-wrapper",children:[Object(g.jsx)(L,{links:Ne}),Object(g.jsx)("div",{className:"panel",children:Object(g.jsx)(o.c,{children:Se.map((function(e){return Object(g.jsx)(o.a,{path:e.path,element:e.component})}))})})]})]})}function we(){return Object(g.jsx)("div",{className:"client-panel"})}var Ie=[{title:"Overview",link:"",nested:!1,icon:J},{title:"Invoices",link:"invoices",nested:!1,icon:M},{title:"Issues",link:"issues",nested:!1,icon:_},{title:"Requests",link:"requests",nested:!1,icon:U}],ke=[{path:"",component:Object(g.jsx)(we,{})},{path:"invoices",component:Object(g.jsx)(ee,{})},{path:"invoices/:id",component:Object(g.jsx)(me,{})},{path:"issues",component:Object(g.jsx)(xe,{})},{path:"requests",component:Object(g.jsx)(ge,{})}];function De(){return Object(g.jsxs)("div",{className:"client-page",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"side-nav-panel-wrapper",children:[Object(g.jsx)(L,{links:Ie}),Object(g.jsx)("div",{className:"panel",children:Object(g.jsx)(o.c,{children:ke.map((function(e){return Object(g.jsx)(o.a,{path:e.path,element:e.component})}))})})]})]})}function Pe(){var e=JSON.parse(localStorage.getItem(b)),t=Object(o.f)(),s=Object(N.b)();return Object(c.useEffect)((function(){fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?s(te(e.users)):t("/")}))}),[]),Object(g.jsx)("div",{className:"dashboard",children:e.usertype===m?Object(g.jsx)(Ce,{}):Object(g.jsx)(De,{})})}function Re(){return Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("div",{className:"progress-bar"})})}function qe(){var e=Object(c.useState)({isLoading:!0}),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(o.f)();return Object(c.useEffect)((function(){fetch(j+"authUser",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(console.log(e.user),localStorage.setItem(b,JSON.stringify(e.user)),n({isLoading:!1})):a("/")}))}),[]),Object(g.jsx)("div",{className:"dashboard-page",children:s.isLoading?Object(g.jsx)(Re,{}):Object(g.jsx)(Pe,{})})}function Ae(e){return Object(g.jsx)("div",{className:e.loading?"shade-loader":"",children:Object(g.jsx)("div",{className:e.loading?"progress-bar":""})})}var Be=function(){var e=Object(N.c)((function(e){return e.loading}));return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(l.a,{children:[Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/",element:Object(g.jsx)(P,{})}),Object(g.jsx)(o.a,{path:"/home/*",element:Object(g.jsx)(qe,{})})]}),Object(g.jsx)(Ae,{loading:e.loading})]})})},Ee=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,518)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))},He=s(86),Le={invoices:[]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object(n.a)(Object(n.a)({},e),{},{invoices:t.payload}):e},Te={loading:!1},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return t.type===I?{loading:t.payload}:e},Me={users:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(n.a)(Object(n.a)({},e),{},{users:[].concat(Object(ie.a)(e.users),[t.payload])});case C:return Object(n.a)(Object(n.a)({},e),{},{users:t.payload});default:return e}},Ue=Object(He.b)({users:_e,invoices:Je,loading:Ve}),Fe=s(218),We=s(217),Ge=s.n(We),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||He.c,Ye=Object(He.d)(Ue,ze(Object(He.a)(Fe.a))),Ke={position:q.b.MIDDLE};r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(q.a,Object(n.a)(Object(n.a)({template:Ge.a},Ke),{},{children:Object(g.jsx)(N.a,{store:Ye,children:Object(g.jsx)(Be,{})})}))}),document.getElementById("root")),Ee()}},[[481,1,2]]]);
//# sourceMappingURL=main.32d07619.chunk.js.map