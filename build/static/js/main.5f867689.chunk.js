(this.webpackJsonpimrs_frontend=this.webpackJsonpimrs_frontend||[]).push([[0],{106:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var s=n(7),c=n(0),a=n.n(c),i=n(27),l=n.n(i),r=(n(234),n.p,n(235),n(24)),o=n(15),d=n(8),j=(n(154),"http://localhost:8000/"),u="token",m="admin",p="user",b="paid",h="unpaid",O="partial",x="upi",v="rtgs",g="cheque",f=n(1);function y(e){return Object(f.jsx)("p",{className:e.notice.visibility?"notice-visible":"notice-invisible",children:e.notice.message})}var N=n(20),S="ADD_USER",C="SET_USER",w="SET_INVOICE",I="SET_LOADING",k=function(e){return{type:I,payload:e}};function P(){var e=Object(N.b)(),t=Object(o.f)(),n=Object(c.useState)({message:"",visibility:!1}),a=Object(d.a)(n,2),i=a[0],l=a[1],r=Object(c.useState)({email:"",password:""}),m=Object(d.a)(r,2),b=m[0],h=m[1],O=function(){setTimeout((function(){l({message:"",visibility:!1})}),2e3)},x=function(n){n.preventDefault(),e(k(!0)),""!==b.email&&""!==b.password?fetch(j+"login",{method:"POST",body:JSON.stringify({user:b}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){n.isFound||(l({message:"user not exists!",visibility:!0}),O()),n.isFound&&!n.isCorrect&&(l({message:"Password Incorrect!",visibility:!0}),O()),n.isCorrect&&n.isFound&&(localStorage.setItem(u,n.token),console.log(n.user),localStorage.setItem(p,JSON.stringify(n.user)),t("/home")),e(k(!1))})):e(k(!1))},v=function(e){e.preventDefault();var t=e.target.name,n=e.target.value;switch(t){case"email":h(Object(s.a)(Object(s.a)({},b),{},{email:n}));break;case"password":h(Object(s.a)(Object(s.a)({},b),{},{password:n}))}};return Object(f.jsxs)("div",{className:"login-container",children:[Object(f.jsxs)("form",{onSubmit:x,className:"login-form",children:[Object(f.jsx)("p",{className:"heading",children:"IMRS"}),Object(f.jsx)("label",{children:"E-mail"}),Object(f.jsx)("input",{type:"text",onChange:v,name:"email",required:!0,placeholder:"E-mail",value:b.email}),Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",{type:"password",onChange:v,name:"password",placeholder:"******",required:!0,value:b.password}),Object(f.jsx)("button",{onSubmit:x,type:"submit",name:"submit",children:"Sign in"})]}),Object(f.jsx)(y,{notice:i}),Object(f.jsx)("p",{className:"forget-notice",children:"Forget Password? Contact Admin"})]})}function D(e){return Object(f.jsx)("div",{className:"login-page",children:Object(f.jsx)(P,{})})}n(106);var R=n.p+"static/media/account.503efc1e.svg",q=(n(241),n(37)),B=n.p+"static/media/logout.7a0908f6.svg",A=n.p+"static/media/user.078de6f6.svg",E=n.p+"static/media/help.65328bf7.svg";function H(e){var t=JSON.parse(localStorage.getItem(p)),n=Object(o.f)(),s=Object(q.c)(),a=Object(c.useState)(!1),i=Object(d.a)(a,2),l=i[0],r=i[1],j=function(){localStorage.setItem(u,null),localStorage.setItem(p,null),n("/")};return Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsx)("div",{className:"nav-logo",children:"IMRS"}),Object(f.jsxs)("div",{onClick:function(){return r(!l)},className:"nav-account-tab",children:[Object(f.jsx)("p",{style:{color:"white",fontSize:"14px",margin:"0 10px 0 0"},children:t.name}),Object(f.jsx)("img",{src:R,alt:"profile",className:l?"profile-icon-active":"profile-icon"})]}),Object(f.jsxs)("div",{className:l?"menu":"menu-close",children:[Object(f.jsxs)("div",{className:"menu-item",children:[Object(f.jsx)("p",{className:"menu-text",children:"My Account "}),Object(f.jsx)("img",{className:"menu-icon",src:A,alt:""})]}),Object(f.jsxs)("div",{onClick:function(){s.show("Do you want to do this?",{title:"Logout",closeCopy:"Cancel",actions:[{copy:"Logout",onClick:function(){j()}}]})},className:"menu-item",children:[Object(f.jsx)("p",{className:"menu-text",children:"Logout"}),Object(f.jsx)("img",{className:"menu-icon",src:B,alt:""})]}),Object(f.jsxs)("div",{className:"menu-item",children:[Object(f.jsx)("p",{className:"menu-text",children:"Help and Support"}),Object(f.jsx)("img",{className:"menu-icon",src:E,alt:""})]})]})]})}n(242);function L(e){var t=Object(c.useState)({drawerOpen:!1,cover:!1}),n=Object(d.a)(t,2),s=n[0],a=n[1],i=function(){a({drawerOpen:!s.drawerOpen,cover:!s.cover})};return Object(f.jsxs)("div",{className:"side-nav-wrapper",children:[Object(f.jsx)("div",{onClick:i,className:s.cover?"side-cover":"none"}),Object(f.jsxs)("div",{onClick:i,className:"hambar",children:[Object(f.jsx)("div",{className:"bar"}),Object(f.jsx)("div",{className:"bar"}),Object(f.jsx)("div",{className:"bar"})]}),Object(f.jsxs)("div",{onClick:i,className:s.drawerOpen?"side-nav":"side-nav-close",children:[Object(f.jsx)("p",{className:"logo",children:"IMRS"}),Object(f.jsx)("div",{className:"side-menu",children:e.links.map((function(e){return Object(f.jsx)(r.b,{to:e.link,className:"side-menu-item",children:Object(f.jsxs)("div",{className:"link-wrapper",children:[Object(f.jsx)("p",{className:"side-menu-link",children:e.title}),Object(f.jsx)("img",{className:"menu-icon",src:e.icon,alt:"icon"})]})})}))}),Object(f.jsx)("div",{className:"bottom-side",children:Object(f.jsx)("p",{children:"IMRS | 2022"})})]})]})}var J=n.p+"static/media/home.820697b5.svg",T=(n.p,n.p+"static/media/add.7416dd99.svg"),V=n.p+"static/media/users.0bea2943.svg",M=n.p+"static/media/invoice.c7f1e6f0.svg",F=n.p+"static/media/issueMessage.ab0502ae.svg",_=n.p+"static/media/requestmoney.7ce5cef8.svg",U=n.p+"static/media/customer.7716ecf0.svg",W=n(509),G=n(518),z=n(216),Y=n(220),K=(n(155),n(243),n.p+"static/media/rupees.07b005b1.svg"),X=(n.p,n.p+"static/media/maximize.7395e80b.svg");function Q(e){var t=e.invoice;return console.log(t),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"invoice",children:[Object(f.jsx)("p",{className:"invoice-heading",children:t.invoiceid}),Object(f.jsxs)("p",{className:"invoice-below-heading",children:["Id ",t.id]}),Object(f.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(f.jsx)("p",{children:t.date}),Object(f.jsx)("div",{className:"date-line"}),Object(f.jsx)("p",{children:t.duedate})]}),Object(f.jsxs)("div",{className:"invoice-text-wrapper",children:[Object(f.jsx)("img",{src:K,alt:"",className:"invoice-icon"}),Object(f.jsxs)("p",{className:"invoice-text",children:["Rs. ",parseInt(t.amount)-parseInt(t.paidamount),".00 "]})]}),Object(f.jsxs)("div",{className:"invoice-text-wrapper",children:[Object(f.jsx)("img",{src:A,alt:"",className:"invoice-icon"}),Object(f.jsx)("p",{className:"invoice-text",children:t.clientname})]}),Object(f.jsx)("div",{className:"invoice-text-wrapper",children:Object(f.jsx)("div",{className:"invoice-status",style:{backgroundColor:t.paymentstatus===h?t.approved?"red":"blue":(t.paymentstatus,"green")},children:Object(f.jsx)("p",{children:t.paymentstatus===h?t.approved?"pending":"draft":t.paymentstatus===b?"paid":"partial"})})}),Object(f.jsx)(r.b,{to:"".concat(t.id),children:Object(f.jsxs)("div",{className:"invoice-blue-button",children:[Object(f.jsx)("img",{src:X,alt:"",className:"invoice-icon"}),Object(f.jsx)("p",{children:"Open"})]})})]})})}function Z(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),i=Object(d.a)(a,2),l=(i[0],i[1]),r=Object(o.f)(),m=JSON.parse(localStorage.getItem(p)),b=Object(c.useState)(5),h=Object(d.a)(b,2),O=h[0],x=h[1],v=Object(c.useState)(0),g=Object(d.a)(v,2),y=g[0],N=g[1],S=Object(c.useState)(0),C=Object(d.a)(S,2),w=C[0],I=C[1],k=Object(c.useState)(0),P=Object(d.a)(k,2),D=P[0],R=P[1],q=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];return Object(c.useEffect)((function(){fetch(j+"overview_admin",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.isValid){l(e.chartData.filter((function(e){return e.accepted})).map((function(e){return{name:"",uv:e.amount,amt:e.amount}})));for(var t=0,n=0,c=0,a=0;a<e.chartData.length;a++){var i=e.chartData[a];t=parseInt(t)+parseInt(i.amount),i.accepted?c=parseInt(c)+parseInt(i.amount):n=parseInt(n)+parseInt(i.amount)}s(e.invoice),R(n),I(c),N(t)}else r("/")}))}),[]),Object(f.jsxs)("div",{className:"dashboard-panel",children:[Object(f.jsxs)("div",{className:"greet-panel",children:[Object(f.jsxs)("div",{className:"greet-text",children:[Object(f.jsx)("p",{className:"greet-b",children:"Hello,"}),Object(f.jsxs)("p",{className:"greet-m",children:[m.name,"."]})]}),Object(f.jsx)("div",{className:"c1"}),Object(f.jsx)("div",{className:"c2"}),Object(f.jsx)("div",{className:"c3"})]}),Object(f.jsx)("div",{className:"top-wrapper",children:Object(f.jsxs)("div",{className:"top-left",children:[Object(f.jsx)("p",{style:{textAlign:"left"},className:"t-m",children:"Payments"}),Object(f.jsx)("div",{className:"border-bottom"}),Object(f.jsxs)("div",{className:"value-wrapper",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:"t-b",children:[" \u20b9",y]}),Object(f.jsx)("p",{className:"t-s",children:"Total Amount"})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:"t-b",children:["\u20b9",w]}),Object(f.jsx)("p",{className:"t-s",children:"Total Received"})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:"t-b",children:["\u20b9",D]}),Object(f.jsx)("p",{className:"t-s",children:"Total Pending"})]})]})]})}),Object(f.jsx)("div",{className:"chart-wrapper",children:Object(f.jsx)(W.a,{width:"100%",height:"100%",children:Object(f.jsxs)(G.a,{width:500,height:400,data:"a"===O?q:q.slice(0,O),children:[Object(f.jsx)(z.a,{fontFamily:"monospace",strokeWidth:0,stroke:"#3152be",tickMargin:15}),Object(f.jsx)(Y.a,{strokeWidth:2,type:"monotone",dataKey:"uv",stroke:"#3152be",fill:"#359add49"})]})})}),"a"===O?Object(f.jsx)("p",{className:"legend",children:"All transactions"}):Object(f.jsxs)("p",{className:"legend",children:["last ",O," transactions"]}),Object(f.jsxs)("div",{className:"filter-wrapper",children:[Object(f.jsx)("p",{onClick:function(){return x(5)},className:5===O?"f-i-a":"f-i",children:"5"}),Object(f.jsx)("p",{onClick:function(){return x(10)},className:10===O?"f-i-a":"f-i",children:"10"}),Object(f.jsx)("p",{onClick:function(){return x(20)},className:20===O?"f-i-a":"f-i",children:"20"}),Object(f.jsx)("p",{onClick:function(){return x("a")},className:"a"===O?"f-i-a":"f-i",children:"ALL"})]}),Object(f.jsxs)("div",{className:"recent-wrapper",children:[Object(f.jsx)("div",{className:"recent-invoice",children:null===n?"":Object(f.jsx)("div",{className:"recent"})}),Object(f.jsx)("div",{className:"recent-issue"}),Object(f.jsx)("div",{className:"recent-reconciliation"})]})]})}n(376);function $(e){return Object(f.jsxs)(r.b,{to:e.link,className:"panel-button-blue",children:[Object(f.jsx)("img",{src:T,className:"button-icon",alt:""}),Object(f.jsx)("p",{className:"text-small",children:e.title})]})}function ee(){var e=JSON.parse(localStorage.getItem(p)),t=Object(N.b)(),n=Object(N.c)((function(e){return e.invoices})),s=Object(o.f)();return Object(c.useEffect)((function(){t(k(!0)),fetch(j+"invoices",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){if(n.isValid){console.log(n.invoices);var c=null;c=e.usertype===m?n.invoices:n.invoices.filter((function(t){return t.clientid===e.id})),t(function(e){return{type:w,payload:e}}(c))}else s("/");t(k(!1))}))}),[]),Object(f.jsxs)("div",{className:"invoice-panel",children:[Object(f.jsxs)("div",{className:"panel-header",children:[Object(f.jsx)("p",{className:"panel-heading",children:"Invoices"}),e.usertype===m?Object(f.jsx)($,{link:"add_invoice",title:"Create Invoice"}):null]}),Object(f.jsx)("div",{className:"invoice-list",children:n.invoices.map((function(e){return Object(f.jsx)(Q,{invoice:e})}))})]})}n(188),n(377);var te=function(e){return{type:C,payload:e}};n(189);function ne(){localStorage.getItem(p);var e=Object(N.c)((function(e){return e.users})),t=Object(o.f)(),n=Object(N.b)(),a=Object(q.c)(),i=Object(c.useState)(),l=Object(d.a)(i,2),r=l[0],m=l[1],y=Object(c.useState)(!1),S=Object(d.a)(y,2),C=S[0],w=S[1],I=Object(c.useState)({invoiceId:"",clientId:"",amount:0,paidAmount:0,date:"",dueDate:"",approved:!1,paymentStatus:h,imageUrl:"",clientName:"",paymentId:"",paymentMethod:x}),P=Object(d.a)(I,2),D=P[0],R=P[1];Object(c.useEffect)((function(){n(k(!0)),fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid||t("/"),n(te(e.users)),n(k(!1))}))}),[]);var B=function(e){return e.preventDefault(),n(k(!0)),""===D.invoiceId||0===D.amount||""===D.clientName||""===D.clientId||""==D.date||""===D.dueDate||""===D.paymentStatus?(a.show("Please Fill Importent Details!"),void n(k(!1))):D.paymentStatus!==b&&D.paymentStatus!==O||0!==D.paidAmount||""!==D.paymentId?r?void fetch(j+"addInvoice",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),invoice:D,image:r}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Invoice Uploaded Successfully"),R({invoiceId:"",clientId:"",amount:0,paidAmount:0,date:"",dueDate:"",approved:!1,paymentStatus:h,imageUrl:"",clientName:"",paymentId:"",paymentMethod:x}),m()):(a.show("Something Went Wrong!"),setTimeout((function(){t("/")}),100)),n(k(!1))})):(a.show("Image Not Selected"),void n(k(!1))):(a.show("Fill Complete Payment Details"),void n(k(!1)))},A=function(){w(!C)};return Object(f.jsxs)("div",{className:"add-invoice-panel",children:[Object(f.jsx)("div",{className:"panel-header",children:Object(f.jsx)("p",{className:"panel-heading",children:"Add Invoice"})}),Object(f.jsx)("div",{className:"invoice-form",children:Object(f.jsxs)("form",{onSubmit:B,className:"wide-form",children:[Object(f.jsxs)("div",{className:"form-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Invoice Reference Number"}),Object(f.jsx)("input",{type:"text",required:!0,placeholder:"Enter Invoice Reference Number",name:"invoiceId",value:D.invoiceId,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{invoiceId:e.target.value}))}}),Object(f.jsx)("p",{className:"form-heading-big",children:"Payment Details"}),Object(f.jsxs)("div",{className:"col-wrapper",children:[Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Amount"}),Object(f.jsx)("input",{type:"number",required:!0,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{amount:e.target.value}))},placeholder:"Amount"}),Object(f.jsx)("p",{className:"form-heading-medium",children:"Paid Amount"}),Object(f.jsx)("input",{type:"number",required:!0,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{paidAmount:e.target.value}))},placeholder:"Paid Amount"})]}),Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Payment Status"}),Object(f.jsxs)("select",{name:"paymentStatus",required:!0,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{paymentStatus:e.target.value}))},children:[Object(f.jsx)("option",{value:h,children:"Unpaid"}),Object(f.jsx)("option",{value:b,children:"Paid"}),Object(f.jsx)("option",{value:O,children:"Partially Paid"})]}),Object(f.jsx)("p",{className:"form-heading-medium",children:"Payment Method ( If Paid )"}),Object(f.jsxs)("select",{name:"paymentMethod",required:!0,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{paymentMethod:e.target.value}))},children:[Object(f.jsx)("option",{value:x,children:"UPI"}),Object(f.jsx)("option",{value:v,children:"RTGS"}),Object(f.jsx)("option",{value:g,children:"Bank Cheque"})]})]})]}),Object(f.jsx)("p",{className:"form-heading-medium",children:"Payment Reference Number"}),Object(f.jsx)("input",{type:"text",required:!0,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{paymentId:e.target.value}))},placeholder:"Reference number"})]}),Object(f.jsxs)("div",{className:"form-half",children:[Object(f.jsxs)("div",{className:"col-wrapper",children:[Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Date"}),Object(f.jsx)("input",{type:"date",required:!0,value:D.date,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{date:e.target.value}))},placeholder:"Date"})]}),Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Due Date"}),Object(f.jsx)("input",{type:"date",required:!0,value:D.dueDate,onChange:function(e){return R(Object(s.a)(Object(s.a)({},D),{},{dueDate:e.target.value}))},placeholder:"Due Date"})]})]}),Object(f.jsx)("p",{className:"form-heading-big",children:"Client Details"}),Object(f.jsxs)("div",{className:"col-wrapper",children:[Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Choose Customer"}),Object(f.jsx)("p",{onClick:A,className:"activity-open",children:"Select Customer"})]}),Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Customer"}),Object(f.jsxs)("p",{className:"activity-open",children:[D.clientId," - ",D.clientName]})]})]}),Object(f.jsx)("p",{className:"form-heading-big",children:"Invoice Snapshot"}),Object(f.jsx)("input",{type:"file",value:D.imageUrl,name:"imageUrl",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){m(n.result)}}}),r&&Object(f.jsx)("img",{src:r,style:{width:"100%",borderRadius:"10px",marginTop:"10px",boxShadow:"0 0 5px rgba(0,0,0,0.2)"}}),Object(f.jsx)("button",{onClick:B,children:"Submit"})]})]})}),Object(f.jsx)("div",{onClick:A,className:C?"cover":""}),Object(f.jsxs)("div",{className:C?"activity-panel":"invisible",children:[Object(f.jsx)("p",{children:"Select Customer"}),Object(f.jsx)("div",{className:"activity-table",children:Object(f.jsx)("div",{className:"table-wrapper",children:Object(f.jsxs)("table",{className:"users-table",children:[Object(f.jsxs)("tr",{className:"table-head",children:[Object(f.jsx)("th",{children:"Id"}),Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("th",{children:"Email"}),Object(f.jsx)("th",{children:"Company"})]}),e.users.map((function(e){if("client"===e.usertype)return Object(f.jsxs)("tr",{onClick:function(){return function(e){R(Object(s.a)(Object(s.a)({},D),{},{clientName:e.name,clientId:e.id})),A()}(e)},children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:e.email}),Object(f.jsx)("td",{children:e.company})]})}))]})})})]})]})}function se(){var e=Object(c.useState)({name:"",email:"",phone:"",usertype:"admin",password:"",address:"",company:""}),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(N.b)(),l=Object(o.f)(),r=Object(q.c)(),m=function(e){fetch(j+"addUser",{method:"post",body:JSON.stringify({user:n,token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.isValid?(i(function(e){return{type:S,payload:e}}(e)),r.show("User added successfully!",{title:"Success"})):l("/")}))},p=function(e){if(e.preventDefault(),""!==n.name&&""!==n.email&&""!==n.phone&&""!==n.usertype&&""!==n.password&&""!==n.address&&""!==n.company){var t="do you want to add "+n.name+" as "+n.usertype+"?";r.show(t,{title:"Add Customer",closeCopy:"No",actions:[{copy:"Yes",onClick:function(){m(n),a({name:"",email:"",phone:"",usertype:"Admin",password:"",address:"",company:""})}}]})}};return Object(f.jsxs)("div",{className:"add-user-panel",children:[Object(f.jsx)("div",{className:"panel-header",children:Object(f.jsx)("p",{className:"panel-heading",children:"Add User"})}),Object(f.jsx)("div",{className:"user-info-form",children:Object(f.jsxs)("form",{className:"wide-form",onSubmit:p,children:[Object(f.jsxs)("div",{className:"form-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Basic Information"}),Object(f.jsx)("input",{type:"text",name:"name",maxLength:30,value:n.name,required:!0,placeholder:"Enter Full Name",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{name:e.target.value}))}}),Object(f.jsx)("p",{className:"form-heading-medium",children:"Contact and Company"}),Object(f.jsxs)("div",{className:"col-wrapper",children:[Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("input",{type:"text",name:"email",maxLength:30,value:n.email,required:!0,placeholder:"Email",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{email:e.target.value}))}}),Object(f.jsx)("input",{type:"text",name:"phone",maxLength:12,required:!0,value:n.phone,placeholder:"Phone",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{phone:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"col-half",children:[Object(f.jsx)("input",{type:"text",name:"company",required:!0,maxLength:50,value:n.company,placeholder:"Company",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{company:e.target.value}))}}),Object(f.jsxs)("select",{name:"usertype",required:!0,onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{usertype:e.target.value}))},children:[Object(f.jsx)("option",{value:"admin",children:"Admin"}),Object(f.jsx)("option",{value:"client",children:"Customer"})]})]})]}),Object(f.jsx)("p",{className:"form-heading-medium",children:"Password"}),Object(f.jsx)("input",{type:"password",name:"password",maxLength:9,required:!0,value:n.password,placeholder:"Password",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{password:e.target.value}))}})]}),Object(f.jsxs)("div",{className:"form-half",children:[Object(f.jsx)("p",{className:"form-heading-medium",children:"Address"}),Object(f.jsx)("input",{type:"text",required:!0,name:"address",maxLength:100,value:n.address,placeholder:"Enter Valid Address",onChange:function(e){return a(Object(s.a)(Object(s.a)({},n),{},{address:e.target.value}))}}),Object(f.jsx)("button",{onClick:p,children:"Submit"})]})]})})]})}var ce=n(117),ae=n.n(ce),ie=n(122),le={topType:["NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02"],accessoriesType:["Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers"],hatColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],hairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray"],facialHairType:["Blank","BeardMedium","BeardLight","BeardMajestic","MoustacheFancy","MoustacheMagnum"],facialHairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red"],clotheType:["BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck"],clotheColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],graphicType:["Bat","Cumbia","Deer","Diamond","Hola","Pizza","Resist","Selena","Bear","SkullOutline","Skull"],eyeType:["Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky"],eyebrowType:["Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural"],mouthType:["Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit"],skinColor:["Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black"]},re=Object.keys(le);function oe(){var e={};return Object(ie.a)(re).forEach((function(t){var n=le[t];e[t]=n[Math.floor(Math.random()*n.length)]})),e}n(475);function de(e){var t=e.user,n=Object(o.f)();return Object(f.jsxs)("div",{className:"H"===e.type?"user-card-h":"user-card",children:[Object(f.jsx)(ae.a,Object(s.a)({className:"H"===e.type?"user-profile-h":"user-profile",avatarStyle:"Circle"},oe())),Object(f.jsxs)("div",{style:{margin:"0 10px"},children:[Object(f.jsx)("p",{style:{margin:"10px 0 5px 0"},children:t.name}),Object(f.jsx)("p",{style:{color:"var(--dark_grey)",fontSize:"14px"},children:t.email})]}),Object(f.jsx)("p",{onClick:function(){n("/home/users/"+t.id)},className:"user-blue-button",children:"View Profile"})]})}function je(e){var t=Object(o.f)(),n=Object(N.c)((function(e){return e.users})),s=Object(N.b)(),a=n.users.filter((function(t){return t.usertype===e.usertype}));return Object(c.useEffect)((function(){fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid||t("/"),console.log(e.users),s(te(e.users))}))}),[]),Object(f.jsxs)("div",{className:"users-panel",children:[Object(f.jsxs)("div",{className:"panel-header",children:[Object(f.jsx)("p",{className:"panel-heading",children:e.title}),Object(f.jsx)($,{link:"add_user",title:"Add Customer"})]}),Object(f.jsx)("div",{className:"user-wrapper",style:{display:"flex",flexWrap:"wrap"},children:a.map((function(e){return Object(f.jsx)(de,{user:e})}))})]})}n(476);var ue=n.p+"static/media/delete.b3b4a0a6.svg";function me(){var e=Object(o.g)().id,t=Object(N.b)(),n=Object(o.f)(),a=Object(q.c)(),i=JSON.parse(localStorage.getItem(p)),l=Object(c.useState)({message:"",invoiceid:e,clientid:i.id}),r=Object(d.a)(l,2),h=r[0],O=r[1],y=Object(c.useState)({paymentid:"",paymentmethod:x,clientid:i.id,invoiceid:e,amount:null}),S=Object(d.a)(y,2),C=S[0],w=S[1],I=Object(c.useState)({id:e,invoiceid:"",date:"",duedate:"",amount:"",paidamount:"",paid:!1,approved:!1,clientid:""}),P=Object(d.a)(I,2),D=P[0],R=P[1],B=Object(c.useState)(!1),A=Object(d.a)(B,2),E=A[0],H=A[1],L=Object(c.useState)(!1),J=Object(d.a)(L,2),T=J[0],V=J[1],M=Object(c.useState)({id:"",name:"",email:"",phone:"",address:"",company:""}),F=Object(d.a)(M,2),_=F[0],U=F[1],W=function(){fetch(j+"invoice/"+e,{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(R(e.invoice),U(e.user)):n("/home"),t(k(!1))}))};Object(c.useEffect)((function(){t(k(!0)),W()}),[]);var G=function(){H(!E)},z=function(){V(!T)};return Object(f.jsxs)("div",{className:"invoice-page-panel",children:[Object(f.jsxs)("div",{className:"invoice-header",children:[Object(f.jsx)("div",{className:"invoice-logo",children:"IMRS"}),Object(f.jsxs)("div",{className:"invoice-heading-wrapper",children:[Object(f.jsx)("p",{className:"big-text",children:"INVOICE"}),Object(f.jsx)("p",{className:"small-g-text",children:D.invoiceid})]})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("div",{className:"invoice-section",children:[Object(f.jsx)("p",{className:"medium-text",children:"Client Details"}),Object(f.jsx)(de,{type:"H",user:_})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("div",{className:"invoice-section",children:[Object(f.jsx)("p",{className:"medium-text",children:"Payment Details"}),Object(f.jsx)("div",{className:"table-wrapper",children:Object(f.jsxs)("table",{className:"users-table",children:[Object(f.jsxs)("tr",{className:"table-head",children:[Object(f.jsx)("th",{children:"Amount"}),Object(f.jsx)("th",{children:"Paid"}),Object(f.jsx)("th",{children:"Payment Method"}),Object(f.jsx)("th",{children:"Payment Status"}),Object(f.jsx)("th",{children:"Payment Reference"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:D.amount}),Object(f.jsx)("td",{children:D.paidamount}),Object(f.jsx)("td",{children:0===D.paidamount?"NA":D.paymentmethod}),Object(f.jsx)("td",{children:D.paymentstatus}),Object(f.jsx)("td",{children:""===D.paymentid?"NA":D.paymentid})]})]})})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("div",{className:"invoice-section",children:[Object(f.jsx)("p",{className:"medium-text",children:"Other Details"}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",margin:"20px 0"},children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{style:{color:"grey"},children:"Approved By Client "})," ",D.approved?"YES":"NO"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{style:{color:"grey"},children:"Created "})," ",D.date]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{style:{color:"grey"},children:"Due Date "})," ",D.duedate]})]})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("div",{className:"invoice-section",children:[Object(f.jsx)("p",{className:"medium-text",children:"Invoice Snapshot"}),Object(f.jsx)("img",{style:{width:"100%",borderRadius:"10px",margin:"20px 0"},src:D.imageurl,alt:""})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("div",{className:"invoice-section",children:[Object(f.jsx)("p",{className:"medium-text",children:"Invoice Actions"}),i.usertype===m?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(f.jsx)("p",{className:"invoice-text",children:"Add Payment"}),Object(f.jsx)("div",{className:"action-button-g",children:Object(f.jsx)("p",{children:"Pay"})})]}),Object(f.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(f.jsx)("p",{className:"invoice-text",children:"Delete This Invoice "}),Object(f.jsxs)("div",{onClick:function(){fetch(j+"invoice/"+D.id,{method:"delete",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Deleted Successfully!",{title:"Deleted"}),n("/home")):n("/")}))},className:"action-button-r",children:[Object(f.jsx)("img",{src:ue,alt:"",className:"action-button-icon"}),Object(f.jsx)("p",{className:"action-button-text",children:"Delete"})]})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(f.jsx)("p",{className:"invoice-text",children:"Approve Invoice"}),Object(f.jsx)("p",{onClick:function(){t(k(!0)),fetch(j+"approve",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),id:e}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Invoice Approved Successfully!"),W()):n("/"),t(k(!1))}))},className:D.approved?"":"invoice-button-green",children:D.approved?"APPROVED":"Approve"})]}),Object(f.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(f.jsx)("p",{className:"invoice-text",children:"Request Reconciliation"}),Object(f.jsx)("p",{onClick:z,className:D.paymentstatus===b?"":"invoice-button-green",children:D.paymentstatus===b?"PAID":"Request"})]}),Object(f.jsxs)("div",{className:"invoice-action-wrapper",children:[Object(f.jsx)("p",{className:"invoice-text",children:"Raise Issue"}),Object(f.jsx)("p",{onClick:G,className:"invoice-button-red",children:"Issue"})]})]})]}),Object(f.jsx)("div",{onClick:function(){return H(!E)},className:E?"cover":""}),Object(f.jsxs)("div",{className:E?"issue-prompt":"invisible",children:[Object(f.jsx)("p",{children:"Enter Issue"}),Object(f.jsx)("textarea",{onChange:function(e){return O(Object(s.a)(Object(s.a)({},h),{},{message:e.target.value}))},name:"message",id:"",cols:"30",rows:"5",value:h.message}),Object(f.jsx)("button",{onClick:function(){t(k(!0)),fetch(j+"raiseissue",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),issue:h}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Issue Raised!"),G()):n("/"),t(k(!1))}))},children:"Raise "})]}),Object(f.jsx)("div",{onClick:z,className:T?"cover":""}),Object(f.jsxs)("div",{className:T?"reconciliation-prompt":"invisible",children:[Object(f.jsx)("p",{style:{marginBottom:"20px"},children:"Enter Payment Details"}),Object(f.jsxs)("div",{className:"wide-form",children:[Object(f.jsxs)("div",{className:"col-wrapper",children:[Object(f.jsx)("div",{className:"col-half",children:Object(f.jsx)("input",{type:"number",name:"amount",value:C.amount,placeholder:"Amount",onChange:function(e){return w(Object(s.a)(Object(s.a)({},C),{},{amount:e.target.value}))}})}),Object(f.jsx)("div",{className:"col-half",children:Object(f.jsxs)("select",{name:"paymentMethod",required:!0,onChange:function(e){return w(Object(s.a)(Object(s.a)({},C),{},{paymentmethod:e.target.value}))},children:[Object(f.jsx)("option",{value:x,children:"UPI"}),Object(f.jsx)("option",{value:v,children:"RTGS"}),Object(f.jsx)("option",{value:g,children:"Bank Cheque"})]})})]}),Object(f.jsx)("input",{type:"text",name:"paymentid",placeholder:"Payment Reference",value:C.paymentid,onChange:function(e){return w(Object(s.a)(Object(s.a)({},C),{},{paymentid:e.target.value}))}}),Object(f.jsx)("button",{onClick:function(){t(k(!0)),0!==C.amount&&""!==C.paymentid?fetch(j+"requestreconciliation",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),reconciliation:C}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(a.show("Request Sent Successfully!"),z()):n("/"),t(k(!1))})):a.show("Please Fill Complete Details!")},children:"Make Request "})]})]})]})}n(477);var pe=n.p+"static/media/check.b5e4eacc.svg",be=n.p+"static/media/pending.c92eaa3e.svg";function he(e){var t=Object(N.b)(),n=e.issue,s=JSON.parse(localStorage.getItem(p)),c=Object(o.f)(),a=Object(q.c)(),i=function(){c("/home/invoices/"+n.invoiceid)},l=function(){t(k(!0)),fetch(j+"issue/"+n.id,{method:"delete",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){n.isValid?(a.show("Issue Deleted Successfully!"),e.refreshPage()):c("/"),t(k(!1))}))};return Object(f.jsxs)("div",{className:"issue",children:[Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{margin:"0",flexWrap:"wrap"},className:"wrapper",children:[n.resolved?Object(f.jsx)("img",{style:{height:"18px"},src:pe}):Object(f.jsx)("img",{style:{height:"18px"},src:be}),Object(f.jsx)("p",{className:"issue-b",children:n.message}),Object(f.jsx)("p",{className:"issue-m",children:n.date.substring(0,8)+" at "+n.date.substring(8,n.date.length)})]})}),Object(f.jsx)("div",{className:"action-wrapper",children:s.usertype===m?Object(f.jsxs)("div",{onClick:i,className:"action-button-g",children:[Object(f.jsx)("img",{className:"action-button-icon-b",src:X,alt:""}),Object(f.jsx)("p",{style:{color:"var(--blue)"},className:"action-button-text",children:"Invoice"})]}):Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(f.jsxs)("div",{onClick:i,className:"action-button-b",style:{margin:"10px 10px 10px 0 "},children:[Object(f.jsx)("img",{className:"action-button-icon",src:X,alt:""}),Object(f.jsx)("p",{className:"action-button-text",children:"Invoice"})]}),n.resolved?"":Object(f.jsx)("div",{onClick:function(){a.show("Do you want to do this?",{title:"Resolve Issue",closeCopy:"Cancel",actions:[{copy:"Resolve",onClick:function(){t(k(!0)),fetch(j+"resolve_issue",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),id:n.id}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){n.isValid?(a.show("Issue Resolved!"),e.refreshPage()):c("/"),t(k(!1))}))}}]})},className:"action-button-g",children:Object(f.jsx)("img",{className:"action-button-icon",src:pe,alt:""})}),Object(f.jsx)("div",{onClick:function(){a.show("Do you want to do this?",{title:"Delete Issue",closeCopy:"Cancel",actions:[{copy:"Delete",onClick:function(){l()}}]})},className:"action-button-r",children:Object(f.jsx)("img",{className:"action-button-icon",src:ue,alt:""})})]})})]})}var Oe=n.p+"static/media/notfound.6c7c0c82.svg";function xe(){var e=Object(N.b)(),t=Object(o.f)(),n=JSON.parse(localStorage.getItem(p)),s=Object(c.useState)([]),a=Object(d.a)(s,2),i=a[0],l=a[1],r=Object(c.useState)([]),b=Object(d.a)(r,2),h=b[0],O=b[1];Object(c.useEffect)((function(){x()}),[]);var x=function(){e(k(!0));var s=null;s=n.usertype===m?m:n.id,fetch(j+"issues",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),filter:s}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){n.isValid?(l(n.issues.filter((function(e){return!e.resolved}))),O(n.issues.filter((function(e){return e.resolved})))):t("/"),e(k(!1))}))};return Object(f.jsxs)("div",{className:"issue-panel",children:[Object(f.jsx)("div",{className:"panel-header",style:{margin:"0 0 20px 0"},children:Object(f.jsx)("p",{className:"panel-heading",children:"Issues"})}),0===i.length?Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(f.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(f.jsx)("p",{style:{color:"#666666"},children:" No Issue Found !"})]}):"",i.map((function(e){return Object(f.jsx)(he,{refreshPage:x,issue:e})})),Object(f.jsx)("div",{className:"panel-header",style:{margin:"20px 0 15px 0"},children:Object(f.jsx)("p",{className:"panel-heading",children:"Resolved Issues"})}),0===h.length?Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(f.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(f.jsx)("p",{style:{color:"#666666"},children:" No Issue Resolved Yet!"})]}):"",h.map((function(e){return Object(f.jsx)(he,{refreshPage:x,issue:e})}))]})}n(478);function ve(e){var t=e.request,n=e.refresh,s=Object(N.b)(),c=JSON.parse(localStorage.getItem(p)),a=Object(o.f)(),i=Object(q.c)(),l=function(){s(k(!0)),fetch(j+"accept_request",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),request:t}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(i.show("Reconciliation Done Successfully!",{title:"Successful"}),n()):a("/")}))},r=function(){s(k(!0)),fetch(j+"request",{method:"delete",body:JSON.stringify({token:localStorage.getItem(u),id:t.id}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(n(),i.show("Request Deleted Successfully!")):a("/"),s(k(!1))}))};return Object(f.jsxs)("div",{className:"request",children:[Object(f.jsxs)("div",{style:{alignItems:"center",display:"flex",flexWrap:"wrap"},children:[Object(f.jsxs)("div",{style:{margin:"5px 0"},className:"wrapper",children:[t.accepted?Object(f.jsx)("img",{style:{height:"18px",margin:"0 5px 0 0"},src:pe}):Object(f.jsx)("img",{style:{height:"18px",margin:"0 5px 0 0"},src:be}),Object(f.jsxs)("p",{className:"req-b",children:["\u20b9 ",t.amount]}),Object(f.jsxs)("p",{className:"req-status",children:["By ",t.paymentmethod]})]}),Object(f.jsxs)("div",{className:"request-d-wrapper",style:{flexWrap:"wrap",alignItems:"center",margin:"0"},children:[Object(f.jsxs)("p",{className:"req-m",children:[" Ref. no. - ",t.paymentid," "]}),Object(f.jsxs)("p",{className:"req-m",style:{backgroundColor:"gray",color:"white",padding:"2px 5px",borderRadius:"5px",fontSize:"13px"},children:["  ",t.date.substring(0,8)," at ",t.date.substring(8)]})]})]}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsxs)("div",{onClick:function(){a("/home/invoices/"+t.invoiceid)},className:"action-button-g",style:{margin:"10px 10px 10px 0"},children:[Object(f.jsx)("img",{className:"action-button-icon-b",src:X,alt:""}),Object(f.jsx)("p",{style:{color:"var(--blue)"},className:"action-button-text",children:"Invoice"})]}),e.t?"":c.usertype===m?Object(f.jsxs)("div",{onClick:function(){i.show("Do you want to do this?",{title:"Accept Request",closeCopy:"Cancel",actions:[{copy:"Accept",onClick:function(){l()}}]})},className:"action-button-g",children:[Object(f.jsx)("img",{className:"action-button-icon",src:pe,alt:""}),Object(f.jsx)("p",{className:"action-button-text",children:"Accept"})]}):Object(f.jsxs)("div",{onClick:function(){i.show("Do you want to do this?",{title:"Unsend Request",closeCopy:"Cancel",actions:[{copy:"Unsend",onClick:function(){r()}}]})},className:"action-button-r",children:[Object(f.jsx)("img",{className:"action-button-icon",src:ue,alt:""}),Object(f.jsx)("p",{className:"action-button-text",children:"Delete"})]})]})]})}n.p;function ge(){var e=Object(N.b)(),t=JSON.parse(localStorage.getItem(p)),n=Object(o.f)(),s=Object(c.useState)([]),a=Object(d.a)(s,2),i=a[0],l=a[1],r=Object(c.useState)([]),b=Object(d.a)(r,2),h=b[0],O=b[1],x=function(){var s=null;s=t.usertype===m?m:t.id,fetch(j+"requests",{method:"post",body:JSON.stringify({token:localStorage.getItem(u),filter:s}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.isValid?(l(t.requests.filter((function(e){return!e.accepted}))),O(t.requests.filter((function(e){return e.accepted})))):n("/"),e(k(!1))}))};return Object(c.useEffect)((function(){e(k(!0)),x()}),[]),Object(f.jsxs)("div",{className:"request-page-panel",children:[Object(f.jsx)("div",{className:"panel-header",children:Object(f.jsx)("p",{className:"panel-heading",children:"Pending Requests"})}),0===i.length?Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(f.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(f.jsx)("p",{style:{color:"#666666"},children:" No Pending Requests Found !"})]}):"",i.map((function(e){return t.usertype===m||e.clientid===t.id?Object(f.jsx)(ve,{refresh:x,request:e}):null})),Object(f.jsx)("div",{style:{margin:"20px 0 "},className:"panel-header",children:Object(f.jsx)("p",{className:"panel-heading",children:"History"})}),0===h.length?Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px 0"},children:[Object(f.jsx)("img",{style:{height:"30px",marginRight:"10px"},src:Oe,alt:""}),Object(f.jsx)("p",{style:{color:"#666666"},children:" No History yet !"})]}):"",h.map((function(e){return t.usertype===m||e.clientid===t.id?Object(f.jsx)(ve,{t:!0,refresh:x,request:e}):null}))]})}n(479);function fe(){var e=Object(o.g)(),t=Object(o.f)(),n=Object(N.b)(),a=Object(c.useState)({name:"",email:"",phone:"",company:""}),i=Object(d.a)(a,2),l=i[0],r=i[1];return Object(c.useEffect)((function(){n(k(!0)),fetch(j+"users/"+e.id,{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?r(e.user):t("/"),n(k(!1))}))}),[]),Object(f.jsxs)("div",{className:"profile-panel",children:[Object(f.jsxs)("div",{className:"basic-info",children:[Object(f.jsx)(ae.a,Object(s.a)({style:{width:"100px",height:"100px",margin:"20px 0"},avatarStyle:"Circle"},oe())),Object(f.jsx)("p",{className:"name",children:l.name}),Object(f.jsx)("p",{className:"email",children:l.email})]}),Object(f.jsxs)("div",{className:"profile-info",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:["Phone ",Object(f.jsx)("span",{children:l.phone})]}),Object(f.jsxs)("p",{children:["Address ",Object(f.jsx)("span",{children:l.address})]})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("p",{children:["Company ",Object(f.jsx)("span",{children:l.company})]})})]})]})}var ye=[{title:"Overview",link:"",nested:!1,icon:J},{title:"Invoices",link:"invoices",nested:!1,icon:M},{title:"Customers",link:"customers",nested:!1,icon:U},{title:"System Users",link:"system_users",nested:!1,icon:V},{title:"Issues",link:"issues",nested:!1,icon:F},{title:"Requests",link:"requests",nested:!1,icon:_}],Ne=[{path:"",component:Object(f.jsx)(Z,{})},{path:"invoices",component:Object(f.jsx)(ee,{})},{path:"customers",component:Object(f.jsx)(je,{usertype:"client",title:"Customers"})},{path:"system_users",component:Object(f.jsx)(je,{usertype:"admin",title:"System Users"})},{path:"invoices/add_invoice",component:Object(f.jsx)(ne,{})},{path:"customers/add_user",component:Object(f.jsx)(se,{})},{path:"system_users/add_user",component:Object(f.jsx)(se,{})},{path:"invoices/:id",component:Object(f.jsx)(me,{})},{path:"issues",component:Object(f.jsx)(xe,{})},{path:"requests",component:Object(f.jsx)(ge,{})},{path:"users/:id",component:Object(f.jsx)(fe,{})}];function Se(){JSON.parse(localStorage.getItem(p));return Object(f.jsxs)("div",{className:"admin-page",children:[Object(f.jsx)(H,{}),Object(f.jsxs)("div",{className:"side-nav-panel-wrapper",children:[Object(f.jsx)(L,{links:ye}),Object(f.jsx)("div",{className:"panel",children:Object(f.jsx)(o.c,{children:Ne.map((function(e){return Object(f.jsx)(o.a,{path:e.path,element:e.component})}))})})]})]})}function Ce(){return Object(f.jsx)("div",{className:"client-panel"})}var we=[{title:"Overview",link:"",nested:!1,icon:J},{title:"Invoices",link:"invoices",nested:!1,icon:M},{title:"Issues",link:"issues",nested:!1,icon:F},{title:"Requests",link:"requests",nested:!1,icon:_}],Ie=[{path:"",component:Object(f.jsx)(Ce,{})},{path:"invoices",component:Object(f.jsx)(ee,{})},{path:"invoices/:id",component:Object(f.jsx)(me,{})},{path:"issues",component:Object(f.jsx)(xe,{})},{path:"requests",component:Object(f.jsx)(ge,{})}];function ke(){return Object(f.jsxs)("div",{className:"client-page",children:[Object(f.jsx)(H,{}),Object(f.jsxs)("div",{className:"side-nav-panel-wrapper",children:[Object(f.jsx)(L,{links:we}),Object(f.jsx)("div",{className:"panel",children:Object(f.jsx)(o.c,{children:Ie.map((function(e){return Object(f.jsx)(o.a,{path:e.path,element:e.component})}))})})]})]})}function Pe(){var e=JSON.parse(localStorage.getItem(p)),t=Object(o.f)(),n=Object(N.b)();return Object(c.useEffect)((function(){fetch(j+"users",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?n(te(e.users)):t("/")}))}),[]),Object(f.jsx)("div",{className:"dashboard",children:e.usertype===m?Object(f.jsx)(Se,{}):Object(f.jsx)(ke,{})})}function De(){return Object(f.jsx)("div",{className:"loading",children:Object(f.jsx)("div",{className:"progress-bar"})})}function Re(){var e=Object(c.useState)({isLoading:!0}),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(o.f)();return Object(c.useEffect)((function(){fetch(j+"authUser",{method:"post",body:JSON.stringify({token:localStorage.getItem(u)}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.isValid?(console.log(e.user),localStorage.setItem(p,JSON.stringify(e.user)),s({isLoading:!1})):a("/")}))}),[]),Object(f.jsx)("div",{className:"dashboard-page",children:n.isLoading?Object(f.jsx)(De,{}):Object(f.jsx)(Pe,{})})}function qe(e){return Object(f.jsx)("div",{className:e.loading?"shade-loader":"",children:Object(f.jsx)("div",{className:e.loading?"progress-bar":""})})}var Be=function(){var e=Object(N.c)((function(e){return e.loading}));return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(r.a,{children:[Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"/",element:Object(f.jsx)(D,{})}),Object(f.jsx)(o.a,{path:"/home/*",element:Object(f.jsx)(Re,{})})]}),Object(f.jsx)(qe,{loading:e.loading})]})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,519)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))},Ee=n(86),He={invoices:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object(s.a)(Object(s.a)({},e),{},{invoices:t.payload}):e},Je={loading:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;return t.type===I?{loading:t.payload}:e},Ve={users:[]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(ie.a)(e.users),[t.payload])});case C:return Object(s.a)(Object(s.a)({},e),{},{users:t.payload});default:return e}},Fe=Object(Ee.b)({users:Me,invoices:Le,loading:Te}),_e=n(218),Ue=n(217),We=n.n(Ue),Ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.c,ze=Object(Ee.d)(Fe,Ge(Object(Ee.a)(_e.a))),Ye={position:q.b.MIDDLE};l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(q.a,Object(s.a)(Object(s.a)({template:We.a},Ye),{},{children:Object(f.jsx)(N.a,{store:ze,children:Object(f.jsx)(Be,{})})}))}),document.getElementById("root")),Ae()}},[[482,1,2]]]);
//# sourceMappingURL=main.5f867689.chunk.js.map